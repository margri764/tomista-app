

<div class="table-container">

  
    <div class="customCard pd-10 table-container">
      <div class="d-flex flex-wrap justify-content-between align-items-center mb-10">
        <mat-form-field  >
          <mat-label>Buscar</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Filtrar">
        </mat-form-field>

      <div class="d-flex justify-content-between align-items-center ">
       
        <button  mat-flat-button class="customCard"  (click)="deleteAllNotifications()" style="background-color: red; color: white; margin-right: 10px;">
          <mat-icon>delete</mat-icon>
          Excluir tudo </button>
      </div>
  
    </div>
    
      <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8" >
    
        <ng-container matColumnDef="img">
          <th mat-header-cell *matHeaderCellDef > Img </th>
          <td mat-cell *matCellDef="let element"> 
              <img [src]="element.filePath | imagenPath" class="img-fluid" style="border-radius: 50%; width: 70px;" *ngIf="element.filePath && element.filePath !== ''"> 
              <img src="assets/images/no-image.jpg" class="img-fluid" style="border-radius: 50%; width: 70px;" *ngIf="!element.filePath || element.filePath === ''"> 
          </td>
        </ng-container>
    
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Nome Completo </th>
          <td mat-cell *matCellDef="let element" class="selected" (click)="openDialogUser(element)" > {{element.fullName}} </td>
        </ng-container>
    
        <ng-container matColumnDef="notification" >
          <th mat-header-cell *matHeaderCellDef mat-sort-header  > Notification </th>
          <td mat-cell *matCellDef="let element"  > {{element | typeNotification}}    </td>
        </ng-container>

        <ng-container matColumnDef="data" >
          <th mat-header-cell *matHeaderCellDef mat-sort-header > Data </th>
          <td mat-cell *matCellDef="let element" style="text-align: start;" > {{ element.timestamp | date:'dd/MM/yyyy HH:mm' }}
        </td>
        </ng-container>

        <ng-container matColumnDef="action" >
            <th mat-header-cell *matHeaderCellDef mat-sort-header  > Ação </th>
            <td mat-cell *matCellDef="let element"  > 

                <!-- <span class="material-icons active cursor" style="color: rgb(0, 195, 0);"  matTooltip="Ativar usuário">mark_email_read</span> -->
  
                <span class="material-icons delete cursor" style="color: red;" matTooltip="excluir notificação" (click)="deleteNotificationById(element)">delete</span>
             </td>
          </ng-container>
  

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <tr *ngIf="dataSource.data.length === 0">
        <td colspan="2" class="no-data-row">
          Não há notificações para mostrar
        </td>
      </tr>
    <br>
      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>
  </div>


  
    <div class="loading-overlay" *ngIf="isLoading">
    <div class="spinner-grow " role="status" style="width: 50px; height: 50px;"  >
      <mat-spinner></mat-spinner>
    </div>
  </div> 
  
  
    